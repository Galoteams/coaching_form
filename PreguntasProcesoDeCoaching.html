<script>
  const editors = [
    new Quill('#editor1', { theme: 'snow' }),
    new Quill('#editor2', { theme: 'snow' })
  ];

  document.getElementById("coachingForm").addEventListener("submit", function(e) {
    e.preventDefault();

    // Copy Quill content into hidden inputs
    document.getElementById("hidden1").value = editors[0].root.innerHTML.trim();
    document.getElementById("hidden2").value = editors[1].root.innerHTML.trim();

    const formData = new FormData(this);
    const json = {};
    formData.forEach((value, key) => json[key] = value);

    fetch("https://script.google.com/macros/s/AKfycbzfP-KewYsAUlB7TLaIgi3KXmmx6xFhAFE0-X-Uepr8yqAVAfTZRdUSHlRhmJpq8fI-7Q/exec", {
      method: "POST",
      body: JSON.stringify(json)
    })
    .then(response => response.text())
    .then(result => {
      console.log("Success response:", result);
      console.log("Payload sent:", json);
      alert("Formulario enviado con Ã©xito.");
    })
    .catch(error => {
      alert("Error al enviar el formulario.");
      console.log("Payload sent:", json);
      console.error("Error occurred:", error);
    });
  });
</script>
